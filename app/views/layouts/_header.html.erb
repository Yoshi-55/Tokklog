<header class="bg-gray-700 shadow p-4 fixed top-0 left-0 w-full z-50">
  <div class="container mx-auto flex items-center">
    <h1 class="text-xl font-bold flex-shrink-0 mr-1 sm:mr-2 lg:mr-3">
      <%= link_to "🌙TOKK LOG.", sake_logs_path, class: "text-yellow-500" %>
    </h1>

    <!-- 掲示板ボタンは常時表示 -->
    <div class="flex-shrink-0 ml-auto mr-2">
      <%= link_to "掲示板", posts_path, class: "px-6 py-2 bg-gradient-to-r from-pink-500 to-yellow-400 text-white rounded-full shadow-lg font-extrabold text-base tracking-wide border-2 border-pink-300 hover:from-pink-400 hover:to-yellow-300 hover:scale-105 transition-all duration-150" %>
    </div>

    <!-- ハンバーガーメニュー（全画面表示） -->
    <button id="hamburger-btn" class="p-2 focus:outline-none" aria-label="メニューを開く">
      <span class="block w-6 h-0.5 bg-white mb-1"></span>
      <span class="block w-6 h-0.5 bg-white mb-1"></span>
      <span class="block w-6 h-0.5 bg-white"></span>
    </button>

    <nav id="main-nav" class="fixed top-16 right-0 w-48 bg-gray-700 z-50 flex-col items-center hidden rounded-b-xl shadow-lg">
      <div class="flex flex-col items-center space-y-2 my-4">
        <%= link_to "TOPに戻る", root_path, class: "text-yellow-400 hover:underline font-bold" %>
        <%= link_to "🍶選び方ガイド🔰", guide_path, class: "text-blue-400 hover:underline font-bold" %>
        <%= link_to "このアプリの使い方", howto_path, class: "text-green-500 hover:underline font-bold" %>
        <% if user_signed_in? %>
          <%= link_to "ログアウト", destroy_user_session_path, method: :delete, data: { turbo_method: :delete, confirm: "ログアウトしますか？" }, class: "text-red-500 hover:underline text-xs px-2 py-1" %>
        <% else %>
          <%= link_to "ログイン", new_user_session_path, class: "text-yellow-600 hover:underline" %>
          <%= link_to "新規登録", new_user_registration_path, class: "text-yellow-600 hover:underline" %>
        <% end %>
      </div>
    </nav>
  </div>
  <script>
    function bindHamburger() {
      var btn = document.getElementById('hamburger-btn');
      var nav = document.getElementById('main-nav');
      if (btn && nav && !btn.dataset.bound) {
        btn.dataset.bound = true;
        btn.addEventListener('click', function() {
          nav.classList.toggle('hidden');
        });
      }
    }
    document.addEventListener('DOMContentLoaded', bindHamburger);
    document.addEventListener('turbo:load', bindHamburger);
  </script>
</header>
