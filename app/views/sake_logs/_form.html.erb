<%= form_with(model: sake_log, class: "contents max-w-lg mx-auto px-4 sm:px-6") do |form| %>
  <% if sake_log.errors.any? %>
    <div id="error_explanation" class="bg-red-50 text-red-600 px-4 py-3 font-semibold rounded-md mt-3 shadow-sm">
      <h2 class="text-lg mb-2">‰øùÂ≠ò„Å´Â§±Êïó„Åó„Åæ„Åó„Åü</h2>

      <ul class="list-disc ml-6 space-y-1">
        <% sake_log.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="my-5 relative">
    <%= form.label :"ÈäòÊüÑ(ÂÖ•ÂäõÂøÖÈ†à)", class: "block font-semibold mb-1 text-gray-50" %>
    <%= form.text_field :name,
        class: "bg-gray-300 block shadow-sm rounded-md border outline-none px-3 py-3 w-full text-base",
        id: "brand_name_input",
        autocomplete: "off",
        maxlength: 30 %>

    <ul id="brand_suggestions"
      class="absolute z-10 w-full bg-white border border-gray-300 shadow-md max-h-48 overflow-y-auto hidden">
    </ul>
  </div>

  <div class="my-8 backdrop-blur-sm bg-white/10 border border-white/20 rounded-2xl p-6">
    <h3 class="text-lg font-bold text-cyan-300 mb-4 flex items-center">
      <span class="text-cyan-400 text-xl mr-2">üìä</span>
      Âë≥Ë¶öË©ï‰æ° (5ÊÆµÈöé)
    </h3>

    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
      <div>
        <%= form.label :sweetness, "ÁîòÂë≥", class: "block font-medium mb-2 text-gray-200" %>
        <%= form.range_field :sweetness, 
            min: 1, max: 5, step: 1, value: sake_log.sweetness || 3,
            class: "w-full h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer range-yellow",
            oninput: "updateRangeValue(this, 'sweetness-value')" %>
        <div class="flex justify-between text-xs text-gray-400 mt-1">
          <span>Âº±„ÅÑ</span>
          <span id="sweetness-value" class="font-bold text-yellow-300"><%= sake_log.sweetness || 3 %></span>
          <span>Âº∑„ÅÑ</span>
        </div>
      </div>

      <div>
        <%= form.label :sourness, "ÈÖ∏Âë≥", class: "block font-medium mb-2 text-gray-200" %>
        <%= form.range_field :sourness, 
            min: 1, max: 5, step: 1, value: sake_log.sourness || 3,
            class: "w-full h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer range-green",
            oninput: "updateRangeValue(this, 'sourness-value')" %>
        <div class="flex justify-between text-xs text-gray-400 mt-1">
          <span>Âº±„ÅÑ</span>
          <span id="sourness-value" class="font-bold text-green-300"><%= sake_log.sourness || 3 %></span>
          <span>Âº∑„ÅÑ</span>
        </div>
      </div>

      <div>
        <%= form.label :spiciness, "ËæõÂë≥", class: "block font-medium mb-2 text-gray-200" %>
        <%= form.range_field :spiciness, 
            min: 1, max: 5, step: 1, value: sake_log.spiciness || 3,
            class: "w-full h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer range-red",
            oninput: "updateRangeValue(this, 'spiciness-value')" %>
        <div class="flex justify-between text-xs text-gray-400 mt-1">
          <span>Âº±„ÅÑ</span>
          <span id="spiciness-value" class="font-bold text-red-300"><%= sake_log.spiciness || 3 %></span>
          <span>Âº∑„ÅÑ</span>
        </div>
      </div>

      <div>
        <%= form.label :bitterness, "Ëã¶Âë≥", class: "block font-medium mb-2 text-gray-200" %>
        <%= form.range_field :bitterness, 
            min: 1, max: 5, step: 1, value: sake_log.bitterness || 3,
            class: "w-full h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer range-orange",
            oninput: "updateRangeValue(this, 'bitterness-value')" %>
        <div class="flex justify-between text-xs text-gray-400 mt-1">
          <span>Âº±„ÅÑ</span>
          <span id="bitterness-value" class="font-bold text-orange-300"><%= sake_log.bitterness || 3 %></span>
          <span>Âº∑„ÅÑ</span>
        </div>
      </div>

      <div class="sm:col-span-2">
        <%= form.label :umami, "Êó®Âë≥", class: "block font-medium mb-2 text-gray-200" %>
        <%= form.range_field :umami, 
            min: 1, max: 5, step: 1, value: sake_log.umami || 3,
            class: "w-full h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer range-purple",
            oninput: "updateRangeValue(this, 'umami-value')" %>
        <div class="flex justify-between text-xs text-gray-400 mt-1">
          <span>Âº±„ÅÑ</span>
          <span id="umami-value" class="font-bold text-purple-300"><%= sake_log.umami || 3 %></span>
          <span>Âº∑„ÅÑ</span>
        </div>
      </div>
    </div>

    <div class="my-5">
    <%= form.label :"„É°„É¢(20ÊñáÂ≠ó‰ª•ÂÜÖ)", class: "block font-semibold mb-1 text-gray-50" %>
    <%= form.textarea :memo, rows: 4, class: ["bg-gray-500 block shadow-sm rounded-md border outline-none px-3 py-3 w-full text-base placeholder:text-black", {"border-gray-300 focus:border-blue-600 focus:ring-1 focus:ring-blue-600": sake_log.errors[:memo].none?, "border-red-400 focus:border-red-600 focus:ring-1 focus:ring-red-600": sake_log.errors[:memo].any?}],
    maxlength: 20,
    placeholder: "‰æã: ÂêçÂâç„Å´ÊÉπ„Åã„Çå„Å¶" %>
  </div>
  </div>

  <div class="text-center">
    <%= form.submit "‰øùÂ≠ò", class: "rounded-md px-6 py-3 bg-yellow-600 hover:bg-yellow-500 text-white font-semibold cursor-pointer w-full sm:w-auto" %>
  </div>


<% end %>
